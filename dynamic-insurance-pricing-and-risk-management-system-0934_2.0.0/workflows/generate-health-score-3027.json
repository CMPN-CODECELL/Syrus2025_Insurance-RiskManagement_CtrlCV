{
  "_id": "031193b4-b973-4425-9ebf-96a7f37a895b",
  "aiPersonaId": "02dadf3f-14fb-4a70-87bb-0f654e7de478",
  "integrationId": "generate-health-score-3027",
  "name": "Workflow for Generate Health Score",
  "publisherAccountId": "27f7f6e9-1218-41b8-b4d4-107d247993b7",
  "startTaskId": "1743175596837",
  "status": "Active",
  "tasks": [
    {
      "_id": "edf3dd7b-a20b-4d39-aff0-610e5c4e23ae",
      "type": "Display",
      "config": {
        "description": "Display the response to the user",
        "name": "Display",
        "type": "text",
        "text": "$input.content",
        "formatVariables": [],
        "rawText": "$input.content"
      },
      "transitions": []
    },
    {
      "_id": "1743163516841",
      "type": "JSFunction",
      "config": {
        "description": "Execute JavaScript code",
        "name": "JavaScript",
        "snippetId": "9e7aceda-deeb-4e6d-b253-9dd8f583c418"
      },
      "transitions": [
        {
          "name": "Default",
          "_id": "1743163516841-1743176587693",
          "nextTask": "1743176587693"
        }
      ]
    },
    {
      "_id": "1743175596837",
      "type": "Loader",
      "config": {
        "description": "Show loading messages in conversation",
        "name": "Loader",
        "text": "Lets get your document ready preparing for the uplaod now"
      },
      "transitions": [
        {
          "name": "Default",
          "_id": "1743175596837-1743175633712",
          "nextTask": "1743175633712"
        }
      ]
    },
    {
      "_id": "1743175633712",
      "type": "DocumentUpload",
      "config": {
        "description": "Upload document",
        "name": "Upload Document ",
        "uploadTo": "conversation",
        "uploadMethod": "UserInput",
        "supportedFileTypes": [
          "pdf"
        ],
        "displayMessage": "I am Ready Please Upload Your health Report"
      },
      "transitions": [
        {
          "name": "Default",
          "_id": "1743175633712-1743175693577",
          "nextTask": "1743175693577"
        }
      ],
      "globalVariables": [
        {
          "name": "documentId",
          "referencePath": "$output.documentId"
        }
      ]
    },
    {
      "_id": "1743175693577",
      "type": "DocumentToImage",
      "config": {
        "description": "Convert document to Images",
        "name": "Document To Image",
        "documentId": "$agent.documentId"
      },
      "transitions": [
        {
          "name": "Default",
          "_id": "1743175693577-1743163516841",
          "nextTask": "1743163516841"
        }
      ]
    },
    {
      "_id": "1743176587693",
      "type": "Prompt",
      "config": {
        "description": "Prompt for LLM",
        "name": "Prompt",
        "modelId": "gpt-4o-mini",
        "base64DocumentData": "",
        "documentIds": "$input.result",
        "responseFormat": "text",
        "query": "$agent.query",
        "systemPrompt": "Factor Breakdown for Health Risk Score Calculation\nEach factor contributes to the overall Health Risk Score (0-100). The score is determined by assigning weights to different risk components, ensuring that higher scores indicate greater health risks and higher insurance premiums. Below is a detailed breakdown of each factor, scoring criteria, and its impact on the overall risk score.\n\n1. Age Factor üìÖ\nWhy It Matters: Aging is associated with higher health risks, including chronic diseases and reduced body resilience. Older individuals generally have a higher probability of requiring medical care, making them riskier for insurance providers.\nAge Range\nRisk Score Contribution\n18 - 30\n5 (Low Risk)\n31 - 45\n10 (Moderate Risk)\n46 - 60\n20 (High Risk)\n60+\n30 (Very High Risk)\n\nüîπ Impact: As age increases, the risk score rises due to increased susceptibility to medical conditions.\n2. BMI Factor (Body Mass Index) üèãÔ∏è‚Äç‚ôÇÔ∏è\nWhy It Matters: BMI is an indicator of weight-related health risks, such as diabetes, hypertension, and cardiovascular diseases.\nBMI Category\nBMI Range\nRisk Score Contribution\nUnderweight\nBMI < 18.5\n10 (Nutritional Deficiency Risks)\nNormal\n18.5 ‚â§ BMI < 24.9\n5 (Healthy)\nOverweight\n25 ‚â§ BMI < 29.9\n15 (Increased Risk)\nObese\nBMI ‚â• 30\n25 (High Risk)\n\nüîπ Impact: Higher BMI values increase health risks due to obesity-related diseases.\n\n3. Lifestyle Factor üö¨üç∫üèÉ‚Äç‚ôÇÔ∏è\nWhy It Matters: Daily habits like smoking, alcohol consumption, and physical activity levels significantly influence health and longevity.\nLifestyle Habit\nRisk Score Contribution\nSmoking (Regular)\n+15\nAlcohol (Excessive, >3 times/week)\n+10\nSedentary Lifestyle (No Exercise, Low Steps)\n+10\nActive Lifestyle (Frequent Exercise, High Steps)\n-10 (Risk Reduction)\n\nüîπ Impact: Unhealthy habits increase risk, while active lifestyles reduce it.\n\n4. Medical History Factor üè•\nWhy It Matters: Existing medical conditions significantly impact life expectancy and insurance risk.\nMedical Condition\nRisk Score Contribution\nNo Chronic Illness\n0 (Healthy)\nMild Conditions (e.g., Hypertension, Pre-Diabetes)\n+10\nModerate Conditions (e.g., Type 2 Diabetes, Asthma)\n+20\nSevere Conditions (e.g., Cancer, Heart Disease, Kidney Failure)\n+30\n\nüîπ Impact: More severe conditions dramatically increase risk.\n\n5. Family History Factor üë®‚Äçüë©‚Äçüëß‚Äçüë¶\nWhy It Matters: Genetics play a significant role in determining health risks, especially for hereditary conditions.\nFamily History of Major Illnesses\nRisk Score Contribution\nNo Family History\n0 (Low Risk)\nFamily History of Minor Conditions (e.g., High BP, Diabetes)\n+10\nFamily History of Major Conditions (e.g., Cancer, Heart Disease, Stroke)\n+20\n\nüîπ Impact: If multiple immediate family members have serious health conditions, risk increases.\n\n6. Occupation Factor üè¢‚ö†Ô∏è\nWhy It Matters: Some professions expose individuals to hazardous conditions, increasing health risks.\nOccupation Type\nRisk Score Contribution\nOffice/Remote Work\n0 (Low Risk)\nModerate Risk Jobs (e.g., Drivers, Factory Workers)\n+10\nHigh-Risk Jobs (e.g., Construction, Mining, Firefighters)\n+20\n\nüîπ Impact: Riskier professions have higher insurance premiums due to increased exposure to accidents and occupational hazards.\n\n7. Fitness Factor (Activity & Wearable Data) ‚åöüèÉ\nWhy It Matters: A physically active lifestyle reduces health risks and improves life expectancy.\nFitness Activity Level\nRisk Score Contribution\nVery Active (10K+ steps/day, Regular Exercise)\n-10 (Lower Risk)\nModerately Active (5K-10K steps/day)\n0 (Neutral)\nSedentary (<5K steps/day, No Exercise)\n+10 (Increased Risk)\n\nüîπ Impact: Regular exercise can significantly lower risk.\n\nFinal Formula for Risk Score Calculation:\nRisk Score=(W1√óAge Factor)+(W2√óBMI Factor)+(W3√óLifestyle Factor)+(W4√óMedical History Factor)+(W5√óFamily History Factor)+(W6√óOccupation Factor)+(W7√óFitness Factor)\\text{Risk Score} = (W_1 \\times \\text{Age Factor}) + (W_2 \\times \\text{BMI Factor}) + (W_3 \\times \\text{Lifestyle Factor}) + (W_4 \\times \\text{Medical History Factor}) + (W_5 \\times \\text{Family History Factor}) + (W_6 \\times \\text{Occupation Factor}) + (W_7 \\times \\text{Fitness Factor})\nWhere:\nW1,W2,W3,W4,W5,W6,W7W_1, W_2, W_3, W_4, W_5, W_6, W_7 are weight coefficients ensuring the score remains within 0-100 range.\n\n\n\nFinal Risk Score Categorization:\nRisk Score\nCategory\nInterpretation\n0 - 30\n‚úÖ Low Risk\nMinimal health concerns, ideal for insurance\n31 - 70\n‚ö†Ô∏è Moderate Risk\nSome health concerns, potential premium increase\n71 - 100\n‚ùå High Risk\nSignificant health concerns, highest insurance risk\n\n\nHow This Helps Insurance Companies:\nData-Driven Decision Making ‚Äì Risk scores allow insurers to price premiums dynamically.\n\n\nEncourages Preventive Healthcare ‚Äì Users get recommendations to lower their risk scores.\n\n\nReduces Fraud ‚Äì AI validates health checkup reports before adjusting premiums.\n\n\nIncentivizes Healthy Behavior ‚Äì Lower risk scores can lead to reduced premiums.\n\nin the ouptut give me the info you recived and the health score only\n\n\n\n",
        "temperature": null
      },
      "transitions": [
        {
          "name": "Default",
          "_id": "1743176587693-edf3dd7b-a20b-4d39-aff0-610e5c4e23ae",
          "nextTask": "edf3dd7b-a20b-4d39-aff0-610e5c4e23ae"
        }
      ]
    }
  ],
  "type": "Conversational",
  "version": "latest",
  "reactflow": {
    "viewport": {
      "x": 319.7820120126818,
      "y": 50.797874317940284,
      "zoom": 0.5679946711056366
    },
    "nodes": [
      {
        "id": "0",
        "type": "Start",
        "position": {
          "x": 289,
          "y": 362
        },
        "data": {},
        "deletable": false,
        "measured": {
          "width": 320,
          "height": 176
        },
        "selected": false
      },
      {
        "position": {
          "x": 805,
          "y": 781.157165665104
        },
        "type": "Display",
        "id": "edf3dd7b-a20b-4d39-aff0-610e5c4e23ae",
        "data": {},
        "measured": {
          "width": 298,
          "height": 78
        },
        "selected": false,
        "dragging": false
      },
      {
        "position": {
          "x": 833,
          "y": 460
        },
        "type": "JSFunction",
        "id": "1743163516841",
        "data": {},
        "measured": {
          "width": 260,
          "height": 78
        },
        "selected": false,
        "dragging": false
      },
      {
        "position": {
          "x": 294,
          "y": 202
        },
        "type": "Loader",
        "id": "1743175596837",
        "data": {},
        "measured": {
          "width": 320,
          "height": 78
        },
        "selected": false,
        "dragging": false
      },
      {
        "position": {
          "x": 680,
          "y": 202
        },
        "type": "DocumentUpload",
        "id": "1743175633712",
        "data": {},
        "measured": {
          "width": 260,
          "height": 78
        },
        "selected": false,
        "dragging": false
      },
      {
        "position": {
          "x": 826,
          "y": 334
        },
        "type": "DocumentToImage",
        "id": "1743175693577",
        "data": {},
        "measured": {
          "width": 277,
          "height": 78
        },
        "selected": false,
        "dragging": false
      },
      {
        "position": {
          "x": 820.2397445508353,
          "y": 623.7799680688545
        },
        "type": "Prompt",
        "id": "1743176587693",
        "data": {},
        "measured": {
          "width": 260,
          "height": 78
        },
        "selected": false,
        "dragging": false
      }
    ],
    "edges": [
      {
        "id": "0-1743175596837",
        "type": "Start",
        "source": "0",
        "target": "1743175596837",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "0-source-1",
        "targetHandle": "1743175596837-target-1",
        "selected": false
      },
      {
        "type": "Transition",
        "id": "1743163516841-1743176587693",
        "source": "1743163516841",
        "target": "1743176587693",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "1743163516841-source-3",
        "targetHandle": "1743176587693-target-2",
        "selected": false
      },
      {
        "type": "Transition",
        "id": "1743175596837-1743175633712",
        "source": "1743175596837",
        "target": "1743175633712",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "1743175596837-source-1",
        "targetHandle": "1743175633712-target-1",
        "selected": false
      },
      {
        "type": "Transition",
        "id": "1743175633712-1743175693577",
        "source": "1743175633712",
        "target": "1743175693577",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "1743175633712-source-1",
        "targetHandle": "1743175693577-target-2",
        "selected": false
      },
      {
        "type": "Transition",
        "id": "1743175693577-1743163516841",
        "source": "1743175693577",
        "target": "1743163516841",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "1743175693577-source-3",
        "targetHandle": "1743163516841-target-2",
        "selected": false
      },
      {
        "type": "Transition",
        "id": "1743176587693-edf3dd7b-a20b-4d39-aff0-610e5c4e23ae",
        "source": "1743176587693",
        "target": "edf3dd7b-a20b-4d39-aff0-610e5c4e23ae",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "1743176587693-source-3",
        "targetHandle": "edf3dd7b-a20b-4d39-aff0-610e5c4e23ae-target-2",
        "selected": false
      }
    ]
  }
}